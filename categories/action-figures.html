<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Action Figures - KhilaunaBazaar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold text-primary" href="../index.html">
                <i class="fas fa-cube"></i> KhilaunaBazaar
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" id="categoriesDropdown" role="button" data-bs-toggle="dropdown">Categories</a>
                        <ul class="dropdown-menu" aria-labelledby="categoriesDropdown">
                            <li><a class="dropdown-item active" href="action-figures.html">Action Figures</a></li>
                            <li><a class="dropdown-item" href="dolls.html">Dolls & Accessories</a></li>
                            <li><a class="dropdown-item" href="building-blocks.html">Building Blocks</a></li>
                            <li><a class="dropdown-item" href="outdoor-toys.html">Outdoor Toys</a></li>
                            <li><a class="dropdown-item" href="board-games.html">Board Games</a></li>
                            <li><a class="dropdown-item" href="stuffed-animals.html">Stuffed Animals</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="../contact.html">Contact</a></li>
                </ul>
                <a href="../cart.html" class="btn btn-outline-primary ms-3 position-relative">
                    <i class="fas fa-shopping-cart"></i> Cart
                    <span class="position-absolute top-0 start-100 translate-middle badge bg-danger cart-count" id="cartCount">0</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="py-5" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold text-white mb-3">
                        <i class="fas fa-robot"></i> Action Figures
                    </h1>
                    <p class="lead text-white-50">Explore our amazing collection of superhero and character action figures</p>
                </div>
                <div class="col-lg-4 text-end d-none d-lg-block">
                    <i class="fas fa-robot fa-10x" style="color: rgba(255,255,255,0.1);"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="py-4 bg-light border-bottom">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h6 class="mb-3 fw-bold">Filter & Sort:</h6>
                </div>
                <div class="col-md-6">
                    <div class="d-flex gap-2 flex-wrap">
                        <select class="form-select form-select-sm" style="max-width: 150px;" onchange="filterProducts(this.value)">
                            <option value="">All Prices</option>
                            <option value="0-25">Under $25</option>
                            <option value="25-40">$25 - $40</option>
                            <option value="40-100">Above $40</option>
                        </select>
                        <select class="form-select form-select-sm" style="max-width: 150px;" onchange="sortProducts(this.value)">
                            <option value="">Sort By</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Best Rating</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Grid -->
    <section class="py-5">
        <div class="container">
            <div class="row g-4" id="productContainer"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row g-4 mb-4">
                <div class="col-md-6 col-lg-3">
                    <h5><i class="fas fa-cube text-primary"></i> KhilaunaBazaar</h5>
                    <p class="text-muted small">Your one-stop shop for the best kids toys and games.</p>
                </div>
                <div class="col-md-6 col-lg-3">
                    <h6>Quick Links</h6>
                    <ul class="list-unstyled small">
                        <li><a href="#" class="text-muted text-decoration-none">About Us</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Privacy Policy</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-3">
                    <h6>Categories</h6>
                    <ul class="list-unstyled small">
                        <li><a href="action-figures.html" class="text-muted text-decoration-none">Action Figures</a></li>
                        <li><a href="dolls.html" class="text-muted text-decoration-none">Dolls</a></li>
                        <li><a href="building-blocks.html" class="text-muted text-decoration-none">Building Blocks</a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-3">
                    <h6>Contact Us</h6>
                    <ul class="list-unstyled small">
                        <li class="text-muted mb-2">
                            <a href="tel:+917090887766" class="text-decoration-none text-muted">
                                <i class="fas fa-phone"></i> +91-7090887766
                            </a>
                        </li>
                        <li class="text-muted mb-2">
                            <i class="fas fa-envelope"></i> support@khilaunabazaar.com
                        </li>
                        <li class="mt-3">
                            <a href="../contact.html" class="btn btn-sm btn-primary">Contact Page</a>
                        </li>
                    </ul>
                </div>
            </div>
            <hr class="bg-secondary">
            <div class="text-center text-muted small">
                <p>&copy; 2026 KhilaunaBazaar. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        let currentProducts = [];
        let filteredProducts = [];

        document.addEventListener('DOMContentLoaded', function() {
            loadProductsByCategory('action-figures');
            updateCartCount();
        });

        function filterProducts(range) {
            if (!range) {
                loadProductsByCategory('action-figures');
                return;
            }

            const [min, max] = range.split('-').map(Number);
            const products = productDatabase['action-figures'];
            
            filteredProducts = products.filter(p => {
                if (range === '0-25') return p.price < 25;
                if (range === '25-40') return p.price >= 25 && p.price <= 40;
                if (range === '40-100') return p.price > 40;
                return true;
            });

            displayProducts(filteredProducts);
        }

        function sortProducts(sortType) {
            const products = filteredProducts.length > 0 ? filteredProducts : productDatabase['action-figures'];
            let sorted = [...products];

            if (sortType === 'price-low') {
                sorted.sort((a, b) => a.price - b.price);
            } else if (sortType === 'price-high') {
                sorted.sort((a, b) => b.price - a.price);
            } else if (sortType === 'rating') {
                sorted.sort((a, b) => b.rating - a.rating);
            }

            displayProducts(sorted);
        }

        function displayProducts(products) {
            const container = document.getElementById('productContainer');
            container.innerHTML = '';

            if (products.length === 0) {
                container.innerHTML = '<div class="alert alert-warning w-100">No products found.</div>';
                return;
            }

            products.forEach((product, index) => {
                const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#00f2fe', '#43e97b'];
                const bgColor = colors[index % colors.length];

                const html = `
                    <div class="col-md-6 col-lg-4 col-xl-3">
                        <div class="card h-100 shadow-sm border-0 product-card-hover">
                            <div class="img-placeholder" style="background: linear-gradient(135deg, ${bgColor} 0%, ${bgColor}cc 100%);">
                                <span>400 x 300px (4:3)</span>
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h6 class="card-title" data-bs-toggle="tooltip" title="${product.description}">${product.name}</h6>
                                <p class="text-muted small flex-grow-1">${product.description}</p>
                                <div class="mb-2">
                                    <span class="badge bg-success">â˜… ${product.rating}</span>
                                </div>
                                <h5 class="text-primary mb-3">$${product.price.toFixed(2)}</h5>
                                <div class="d-grid gap-2">
                                    <button class="btn btn-primary btn-sm" onclick="addToCart(${product.id}, '${product.name}', ${product.price})">
                                        <i class="fas fa-shopping-cart"></i> Add to Cart
                                    </button>
                                    <button class="btn btn-outline-primary btn-sm" onclick="viewProductDetail(${product.id}, 'action-figures')">
                                        <i class="fas fa-eye"></i> View Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });

            initializeTooltips();
        }
    </script>
</body>
</html>
